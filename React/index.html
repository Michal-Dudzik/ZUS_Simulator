<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ZUS Simulator</title>
</head>
<body>
    <div id="content-container"></div>

    <script>
        function loadContent() {
            const currentPath = window.location.pathname;
            let targetFile = '';
            
            if (currentPath === '/admin') {
                targetFile = 'adminIndex.html';
            } else {
                targetFile = 'mainIndex.html';
            }
            
            fetch(targetFile)
                .then(response => response.text())
                .then(html => {
                    // Parse the HTML
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    
                    // Update the document title
                    document.title = doc.title;
                    
                    // Handle head elements (stylesheets, meta tags, etc.)
                    const headElements = doc.head.querySelectorAll('link, style, meta, script[src]');
                    headElements.forEach(element => {
                        // Remove existing elements with same attributes to avoid duplicates
                        const existing = document.head.querySelector(`[href="${element.href}"], [src="${element.src}"]`);
                        if (existing) {
                            existing.remove();
                        }
                        
                        // Clone and append the element
                        const clonedElement = element.cloneNode(true);
                        document.head.appendChild(clonedElement);
                    });
                    
                    // Replace the body content
                    document.body.innerHTML = doc.body.innerHTML;
                    
                    // Execute any scripts in the loaded content
                    const scripts = document.querySelectorAll('script[type="module"]');
                    scripts.forEach(script => {
                        const newScript = document.createElement('script');
                        newScript.type = 'module';
                        newScript.src = script.src;
                        document.head.appendChild(newScript);
                    });
                })
                .catch(error => {
                    document.body.innerHTML = 'Error loading content';
                });
        }
        
        document.addEventListener('DOMContentLoaded', loadContent);
        window.addEventListener('popstate', loadContent);
    </script>
</body>
</html>